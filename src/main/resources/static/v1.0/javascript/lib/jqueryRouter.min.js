!function(){function e(){}function t(e){var t=jqueryRouter.routerMap[e.url];if("undefined"==typeof t){var n=jqueryRouter.routerMap.defaults;return t=jqueryRouter.routerMap[n],location.hash=n,!1}
    var tmp = window.location.href.split('/html/')[0].split('/');
    var currentMenuData = getCookie(JCURRENTMENUDATA);
    var currentMenuAction =currentMenuData?JSON.parse(currentMenuData).action:null;
    var showV = tmp[tmp.length-1],realV=getCookie('JVERSION');
    if(realV && showV && showV != realV||contentRightUpdate){
        window.location.href = window.location.href.replace(new RegExp("/"+showV+"/","gm"), '/'+realV+'/');
    }
    $.ajax({type:"GET",url:t.templateUrl,dataType:"html",success:function(e,n,o){
        $(jqueryRouter.mainView).html(e),r(t.controller);
        $('header .btn-of-change').remove();
        $('header div#header_right').prepend($('.btn-of-change'));
    },beforeSend:function(e,n,o){
        var $a =($(".main-menu-trees li.level1 a").filter(function(index){if(this.href==window.location.href){ return $(this)}}));
        $a = $a.length?$a:(currentMenuAction)?( $(".main-menu-trees li[minEle=1] a").filter(function(){ if( $(this).closest('li').attr('menuAction')== currentMenuAction){ return $(this); } })):$a;
        $(".lock-class").removeClass("lock-class");
        if($('.main-menu').hasClass('main-menu-change')){
            $a.addClass("lock-class").parents(".submenu").addClass("child-click");
        }else{
            $a.addClass("lock-class").parents(".submenu").addClass("child-click").slideDown(200)
        }
        $a.parents(".submenu").siblings(".menu-text").addClass("lock-class")
    },error:function(e,t,n){if(0===$(jqueryRouter.errorTemplateId).length){return!1}var r=$(jqueryRouter.errorTemplateId).html();r=r.replace(/{{errStatus}}/,e.status),r=r.replace(/{{errContent}}/,e.responseText),$(jqueryRouter.mainView).html(r)}})}function n(){var e=location.hash,n=jqueryRouter.parse(e);t(n)}function r(e,t){var n,r=document.createElement("script");r.setAttribute("src",e),r.onreadystatechange=r.onload=function(){r.onreadystatechange=null,document.documentElement.removeChild(r),r=null,n||"function"==typeof t&&t(),n=!0},document.documentElement.appendChild(r)}e.prototype.start=function(e){var t=this;t.routerMap=e.router,t.mainView=e.view,t.errorTemplateId=e.errorTemplateId,n(),window.onhashchange=function(){n()}};var o=[];e.prototype.getMessage=function(e){var t={};return $.each(o,function(n,r){r.id===e&&(t=r)}),t},e.prototype.setMessage=function(e){var t=JSON.parse(JSON.stringify(e));$.each(o,function(e,n){return n.id===t.id?(n=t,!1):void 0}),o.push(t)},e.prototype.delMessage=function(e){if("undefined"==typeof e){return!1}var t=0;$.each(o,function(n,r){r.id===e&&(t=n)}),$.each(o,function(e,n){e>t&&(o[e-1]=n)})},e.prototype.clearMessage=function(e){o=[]},e.prototype.stringify=function(e,t){var n,r="";for(var o in t){r+=o+"="+encodeURIComponent(t[o])+"&"}return ""===r?n=e:(r=r.substring(0,r.length-1),n=e+"?"+r),n},e.prototype.parse=function(e){var t="undefined"==typeof e?location.hash:e,n={url:"",param:{}},r={},o="",a=t.indexOf("?");if(""===t){return n}if(a>-1){o=t.substring(1,a);var i=t.substring(a+1),p=i.split("&");$.each(p,function(e,t){var n,o,a=t.split("=");n=a[0],o=a[1],""!==n&&(r[n]=decodeURIComponent(o))})}else{o=t.substring(1),r={}}return{url:o,param:r}},window.jqueryRouter=new e}();